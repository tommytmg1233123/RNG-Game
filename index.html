<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Meme RNG Game</title>

<style>
body{
    background:#0a0a0a;
    color:white;
    font-family:Arial;
    text-align:center;
}

#spinner{
    width:700px;
    height:160px;
    margin:40px auto;
    overflow:hidden;
    border:4px solid white;
    border-radius:18px;
    position:relative;
    background:#111;
}

#needle{
    position:absolute;
    left:50%;
    top:-18px;
    transform:translateX(-50%);
    border-left:18px solid transparent;
    border-right:18px solid transparent;
    border-top:36px solid red;
}

#strip{
    display:flex;
    position:absolute;
    left:0;
}

.item{
    width:160px;
    height:160px;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
}

.item img{
    width:120px;
    height:120px;
    object-fit:cover;
    border-radius:10px;
}

.common{ box-shadow:0 0 10px #666 inset; }
.rare{ box-shadow:0 0 20px #0099ff inset; }
.epic{ box-shadow:0 0 25px #aa00ff inset; }
.legendary{ box-shadow:0 0 30px gold inset; }
.ultra{ box-shadow:0 0 40px red inset; }

button{
    padding:15px 30px;
    font-size:20px;
    margin:10px;
    border:none;
    border-radius:10px;
    cursor:pointer;
}

#spinBtn{ background:#00ccff; }
#skipBtn{ background:#ff4444; }
</style>
</head>

<body>

<h1>Meme RNG Spin</h1>

<div id="spinner">
    <div id="needle"></div>
    <div id="strip"></div>
</div>

<button id="spinBtn">SPIN</button>
<button id="skipBtn">SKIP</button>

<div id="result"></div>

<h3>Saved Best Rolls</h3>
<ul id="historyList"></ul>

<script>

/* ‚≠ê MASS MEME DATABASE */

/* ADD AS MANY AS YOU WANT HERE */
const memePools = {

common:[
"https://i.imgflip.com/30b1gx.jpg",
"https://i.imgflip.com/1bij.jpg",
"https://i.imgflip.com/26am.jpg",
"https://i.imgflip.com/2fm6x.jpg",
"https://i.imgflip.com/4t0m5.jpg"
],

rare:[
"https://i.imgflip.com/3vzej.jpg",
"https://i.imgflip.com/1otk96.jpg",
"https://i.imgflip.com/9ehk.jpg"
],

epic:[
"https://i.imgflip.com/54hjww.jpg",
"https://i.imgflip.com/5c7lwq.jpg"
],

legendary:[
"https://i.imgflip.com/5w3z0n.jpg"
],

ultra:[
"https://i.imgflip.com/6kq6pl.jpg"
]

};

/* RARITY TABLE */
const rarities = [
{ name:"Common", chance:0.60, class:"common", pool:"common" },
{ name:"Rare", chance:0.25, class:"rare", pool:"rare" },
{ name:"Epic", chance:0.10, class:"epic", pool:"epic" },
{ name:"Legendary", chance:0.039, class:"legendary", pool:"legendary" },
{ name:"GOD", chance:0.001, class:"ultra", pool:"ultra" }
];

let history = JSON.parse(localStorage.getItem("rngHistory")) || [];
let spinning=false;
let stripPos=0;
let animation;

updateHistoryUI();

function saveHistory(){
localStorage.setItem("rngHistory", JSON.stringify(history));
}

function randomFrom(array){
return array[Math.floor(Math.random()*array.length)];
}

function roll(){
let r=Math.random();
let total=0;

for(let rar of rarities){
total+=rar.chance;
if(r<=total){
return {
rarity:rar,
img:randomFrom(memePools[rar.pool])
};
}
}
}

/* STRIP CREATION */
function makeStrip(){
const strip=document.getElementById("strip");
strip.innerHTML="";

for(let i=0;i<180;i++){

let rar=randomFrom(rarities);
let img=randomFrom(memePools[rar.pool]);

let div=document.createElement("div");
div.className="item "+rar.class;
div.innerHTML=`<img src="${img}"><div>${rar.name}</div>`;

strip.appendChild(div);
}
}

/* ROBLOX STYLE SPIN */
function spinTo(targetIndex){
const strip=document.getElementById("strip");
const width=strip.children[0].offsetWidth;
const centerOffset=(700/2)-(width/2);

const extraDistance=5000;
const end=-(targetIndex*width)+centerOffset-extraDistance;

const duration=4200;
const start=performance.now();

spinning=true;

function frame(t){
let progress=(t-start)/duration;
if(progress>1) progress=1;

let ease=1-Math.pow(1-progress,5);

strip.style.left=stripPos+(end-stripPos)*ease+"px";

if(progress<1 && spinning){
animation=requestAnimationFrame(frame);
}else{
spinning=false;
stripPos=parseFloat(strip.style.left)||0;
finishRoll(targetIndex);
}
}
animation=requestAnimationFrame(frame);
}

function finishRoll(index){
const strip=document.getElementById("strip");
const name=strip.children[index].innerText;
const img=strip.children[index].querySelector("img").src;

document.getElementById("result").innerHTML=
`<h2>${name}</h2><img src="${img}" width="180">`;

history.push({name,img});
saveHistory();
updateHistoryUI();
}

function updateHistoryUI(){
const list=document.getElementById("historyList");
list.innerHTML="";
history.forEach(h=>{
let li=document.createElement("li");
li.innerText=h.name;
list.appendChild(li);
});
}

document.getElementById("spinBtn").onclick=()=>{
if(spinning) return;

makeStrip();
let result=roll();

const strip=document.getElementById("strip");

let target=[...strip.children].findIndex(c=>
c.innerText.includes(result.rarity.name)
);

if(target<0) target=0;

spinTo(target);
};

document.getElementById("skipBtn").onclick=()=>{
if(!spinning) return;
spinning=false;
cancelAnimationFrame(animation);
};

</script>

</body>
</html>

